@using GeminiSimulator.Main
@using GeminiSimulator.NewFilesSimulations.Context
@using QWENShared.Enums
@using Simulator.Client.HCPages.NewProcessSimulation
@using Simulator.Client.HCPages.Simulations
@using Simulator.Client.HCPages.StreamJoiners
@using Simulator.Shared.NuevaSimlationconQwen
<MudTabs KeepPanelsAlive="true">
    <MudTabPanel Text="PFD">
        <NewProcessFlowDiagram Simulation="@Simulation" GetAll="GetAll" />
    </MudTabPanel>
    <MudTabPanel Text="Simulation">
        @if(Engine!=null)
        {
            <NewSimulationDashBoard Engine="@Engine"></NewSimulationDashBoard>
        }
       

    </MudTabPanel>

    <MudTabPanel Text="Mixer Capacity">
        <NewProductionCapacityReport Simulation=@Simulation />
    </MudTabPanel>
    <MudTabPanel Text="Tanks">
        <TankTable FocusFactory=@FocusFactory MainProcessId="@MainProcessId" Items="SimulationDTO.Tanks" GetAllExternal="GetAll"></TankTable>
    </MudTabPanel>
    <MudTabPanel Text="Pumps">
        <PumpTable FocusFactory=@FocusFactory MainProcessId="@MainProcessId" Items="SimulationDTO.Pumps" GetAllExternal="GetAll"></PumpTable>
    </MudTabPanel>
    <MudTabPanel Text="Operators">
        <OperatorTable FocusFactory=@FocusFactory MainProcessId="@MainProcessId" Items="SimulationDTO.Operators" GetAllExternal="GetAll"></OperatorTable>
    </MudTabPanel>
    <MudTabPanel Text="Mixers">
        <MixerTable FocusFactory=@FocusFactory MainProcessId="@MainProcessId" Items="SimulationDTO.Mixers" GetAllExternal="GetAll"></MixerTable>
    </MudTabPanel>
    <MudTabPanel Text="SKIDs">
        <ContinuousSystemTable FocusFactory=@FocusFactory MainProcessId="@MainProcessId" Items="SimulationDTO.Skids" GetAllExternal="GetAll"></ContinuousSystemTable>
    </MudTabPanel>

    <MudTabPanel Text="Lines">
        <LineTable FocusFactory=@FocusFactory MainProcessId="@MainProcessId" Items="SimulationDTO.Lines" GetAllExternal="GetAll"></LineTable>
    </MudTabPanel>
    <MudTabPanel Text="StreanJoiners">
        <StreamJoinerTable FocusFactory=@FocusFactory MainProcessId="@MainProcessId" Items="SimulationDTO.StreamJoiners" GetAllExternal="GetAll"></StreamJoinerTable>
    </MudTabPanel>
</MudTabs>

@code {

    [Parameter, EditorRequired] public NewSimulationEngine Engine { get; set; } = null!;
    [Parameter]
    public GeneralSimulation Simulation { get; set; } = null!;
    [Parameter]
    [EditorRequired]
    public FocusFactory FocusFactory { get; set; } = FocusFactory.None;

    [Parameter]
    public Guid MainProcessId { get; set; }

    [Parameter]
    public EventCallback GetAll { get; set; }
    [Parameter]
    public NewSimulationDTO SimulationDTO { get; set; } = null!;
}
