@using Simulator.Client.Services.Authentications
@using Simulator.Client.Services.Identities.Accounts
@using Simulator.Client.Services.Identities.Authentications
@using Simulator.Client.Services.Identities.Users
@using Simulator.Client.Services.Interceptor
@using Simulator.Client.Services.Navigations
@using Simulator.Client.Services.SnackBars
<MudSwitch Label="@Label"
           Value=@Value
           ValueChanged="OnValueChanged"
           T="bool"
           UncheckedColor="@UncheckedColor"
           Color="@Color">
       @ChildContent
       </MudSwitch>

@code {
    [Parameter]
    public RenderFragment ChildContent { get; set; } = null!;
    [Parameter]
    public string Label { get; set; } = string.Empty;
    [Parameter]
    public bool Value { get; set; }
    [Parameter]
    public EventCallback<bool> ValueChanged { get; set; }
    [Parameter]
    public EventCallback ValidateAsync { get; set; }
    [Parameter]
    public EventCallback Change { get; set; }
    [Parameter]
    public Expression<Func<bool>>? For { get; set; }
    async Task OnValueChanged(bool value)
    {
        Value = value;
        if (ValueChanged.HasDelegate)
            await ValueChanged.InvokeAsync(Value);
        if (Change.HasDelegate)
            await Change.InvokeAsync();
        if (ValidateAsync.HasDelegate)
            await ValidateAsync.InvokeAsync();
    }
    [Parameter]
    public Color Color { get; set; } = Color.Primary;
    [Parameter]
    public Color UncheckedColor { get; set; } = Color.Info;
}
